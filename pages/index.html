<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Track AFUHSD Policy Manual Changes</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- Header and Navigation -->
    {% include "header_and_nav.html" %}

    <!-- Main Content -->
    <main class="container my-4">
        <section>
            <h2>Welcome to the Policy Tracker</h2>
            <p>This tool allows you to track changes in the AFUHSD Policy Manual and view detailed updates.</p>

            <!-- Quick Policy Manual Analytics -->
            <div class="row mt-4">
                <div class="col-md-4">
                    <div class="card text-white bg-primary mb-3">
                        <div class="card-header">Total Policies</div>
                        <div class="card-body">
                            <h4 class="card-title">{{ total_policies }}</h4>
                            <p class="card-text">Number of policies currently tracked.</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card text-white bg-success mb-3">
                        <div class="card-header">Last Updated</div>
                        <div class="card-body">
                            <h4 class="card-title">{{ last_updated }}</h4>
                            <p class="card-text">Last recorded policy change.</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card text-white bg-danger mb-3">
                        <div class="card-header">Recent Changes</div>
                        <div class="card-body">
                            <h4 class="card-title">{{ recent_changes }}</h4>
                            <p class="card-text">Policies modified in the last 30 days.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Current Time in Phoenix, USA -->
            <div class="text-center mt-4">
                <p><strong>Current Time (Phoenix, USA - MST):</strong> <span id="phoenix-time"></span></p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    {% include "footer.html" %}

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/static/script.js"></script>

    <!-- JavaScript to Display Phoenix Time -->
    <script>
        function updatePhoenixTime() {
            const options = { timeZone: 'America/Phoenix', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
            document.getElementById('phoenix-time').innerText = new Intl.DateTimeFormat('en-US', options).format(new Date());
        }
        setInterval(updatePhoenixTime, 1000);
        updatePhoenixTime();
    </script>
</body>
</html>
